/* EXAMPLE ON USER DEFINED EXCEPTION */
DECLARE
   INVALID_READINGS EXCEPTION;    /* declaring the Exception variable */
   R1 NUMBER(6);
   R2 NUMBER(6);
   UNITS NUMBER(6);
   RATE NUMBER(8,2):=3.5;
   BILL NUMBER(10,2);
BEGIN
   R1:=&OLD_READING;
   R2:=&NEW_READING;
   IF R1>R2 THEN
     RAISE INVALID_READINGS;      /* 'RAISE' IS USED TO INVOKE THE EXCEPTION */
   END IF; 
   UNITS:=R2-R1;
   BILL:=UNITS*RATE;
   DBMS_OUTPUT.PUT_LINE('PER UNIT RATE IS '||RATE);
   DBMS_OUTPUT.PUT_LINE('UNITS USED    IS '||UNITS);
   DBMS_OUTPUT.PUT_LINE('BILL AMOUNT   IS '||BILL);
EXCEPTION
   WHEN INVALID_READINGS THEN    /* handelling exception  */
     DBMS_OUTPUT.PUT_LINE('OLD READING CANNOT BE MORE THAN THE NEW READING');
END;
/
